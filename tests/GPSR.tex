\section{General Purpose Service Robot}

This test evaluates Human-Robot Interaction and the integration of the abilities of the robot tested in stage I. In this test the robot has to solve a task upon request. That is, the test is not incorporated into a (predefined) story and there is neither a predefined set of actions. The task that is to be carried out by the robot is randomly generated by the referees and is composed by 3 subtasks which include navigation, human-robot interaction and robot-object interaction.

The task given by a speech command is composed of three actions, which the robot has to show it has recognized. The robot may repeat the understood command and ask for confirmation. If it can't recognize the command correctly, it can also ask the speaker to repeat the complete command, or ask for further information.
The actual command text may directly reference two actions while a third is inferred by eithe rof the two directly stated commands. 
Often, this concerns navigation to the place a command must be carried out.

\subsection{Focus}
This test particularly focuses on the following aspects:
\begin{itemize}
	\item No predefined order of actions to carry out (to get away from state machine-like behavior programming).
	\item Increased complexity in speech recognition (possible commands are less restricted in both actions/operators and arguments/objects, commands can include multiple objects, e.g., \quotes{put the apple on the kitchen table})
\end{itemize}

\subsection{Task}

\begin{enumerate}
	\item \textbf{Entering and command retrieval:} The robot enters the arena and drives to a designated position where it has to wait for further commands.
	\item \textbf{Command generation:} A command is generated randomly, depending on the command category chosen by the team (see below). \\

	\item \textbf{Command categories:} All possible actions has been classified previously by the TC according to their difficulty level. The team may choose from the following three categories:
	\begin{enumerate}
		\item \textbf{Category I:} Tasks with a low degree of difficulty (easy to solve). This category includes indoor navigation, grasping known objects, answering questions (from the predefined set of questions), etc.
		\item \textbf{Category II:} Tasks with a moderate degree of difficulty. This category includes following a human, indoor navigation in crowded environments, grasping alike objects, find a calling person (waving or shouting), etc.
		\item \textbf{Category III:} The same tasks as in category II. However, the information given to the robot will be incomplete or incorrect, meaning that the command as it is specified exactly is not possible. The robot must come up with an appropriate solution to meet the operators' command. Please see the Command examples below.
	\end{enumerate}

	\item \textbf{Task assignment:} The robot is given the command by the operator and may directly start to work on the task assignment. The robot must must prove it has understood the given command by repeating it (Please see the remarks about this in section~\ref{sec:gpsr_remarks}).
	\item \textbf{Exiting the arena:} After accomplishing the assigned task, the robot has to leave the arena.
\end{enumerate}

\subsection{Tasks and actions}
The task is composed of three actions, which the robot has to show it has recognized. The robot may repeat the understood command and ask for confirmation. If it can't recognize the command correctly, it can also ask the speaker to repeat the complete command. If the robot fails to understand the given commands, it may ask to the operator to repeat them up to three times, if it fails the team may opt to use the Continue rule (Section \refsec{rule:asrcontinue}). In case the robot has understood the command only partially, it may ask the operator for additional information (e.g.~\quotes{did you say apple juice or pineapple juice?}).

Required in this test are:
\begin{enumerate}
	\item abilities from stage I forming a set of actions $A$ (e.g., following a person, finding a random person, finding a person after memorizing her; finding, recognizing, grasping, and delivering objects, etc.),
	\item a set of people $P$,
	\item a set of questions $Q$,
	\item a set of objects $O$ (the same set as used as in the other tests),
	\item a set of locations $L$ (the same set as used as in the other tests).
\end{enumerate}

Each task assignment contains an action $a \in A$ and, depending on the respective action an object $o \in O$, a location $l \in L$, a question $q \in Q$, a person $p \in P$ to interact with, or a combination of those. The set of actions is not given beforehand, instead, teams should identify the abilities from Stage I by themselves (and find synonyms for that). That is, $L$, $O$ and $Q$ are known in advance (provided during setup days), but $A$ has to be \quotes{found out} by the teams (e.g.~taken from freely available ontologies, synonym searches etc.). For the actions $A$ are going to be used common synonyms (like \quotes{go to}, \quotes{move to}, \quotes{drive to}, and \quotes{navigate to} to describe navigation). For the people $P$, any person willing to operate the robot in a natural way can be expected, however, \quotes{Professional Operators} are more likely to be used.

\paragraph{Command examples}
\begin{enumerate}
	\item \textbf{Category I}
	\begin{itemize}
		\item Go to the bedroom, find a person and tell the time (there is only one person in the bedroom).
		\item Go to the dinner-table, grasp the crackers, and take them to the side-table.
		\item Bring a coke to the person in the living room and answer him a question (there is only one person in the bedroom).
		\item Go to the door, ask the person there for her name and tell it to me.
	\end{itemize}
	\item \textbf{Category II}
	\begin{itemize}
		\item Go to the bedroom, find the waving person and tell the time (there is more than two people in the bedroom, only one waving).
		\item Go to the kitchen, find a person and follow her (there is only one person in the kitchen).
		\item Go to the side-table, grasp the coke, and take it to the dinner table (the way to the bedroom is crowded and the access to the side-table may be blocked by a human).
		\item Go to the dinner-table, grasp the banana, and take it to the side-table.
	\end{itemize}
	\item \textbf{Category III}
	\begin{itemize}
		\item Take the apple from the sink and carry it to me. 
		  (There may no apple in the sink, but maybe another fruit the operator might want, an apple may be found somewhere else, etc.)
		\item Go to the kitchen, grasp the coke, and take it to the side-table.
		  (There may no coke in the kitchen but some other drink.)		
		  \item Go to the bathroom, grasp the soap, and take it to the side-table.
		  (The door to the bathroom may be closed. The robot must open the door, find a soap somewhere else or ask someone to open the door for it.)
		\item Grasp the fanta from the small table and carry it to me.
		  (When the robot comes back with the drink, I have moved somewhere else and the robot must find me again.)
	\end{itemize} 
\end{enumerate}

\subsection{Additional rules and remarks}
\label{sec:gpsr_remarks}
\begin{enumerate}
	\item \textbf{Referees:} Since the score system in this test involves a subjective evaluation of the robot's behavior, the referees are EC/TC members.
	\item \textbf{Operator:}
	\begin{itemize}
		\item The person operating the robot is one of the referees (default operator).
		\item If the robot appears to consistently not be able to understand the operator, the referees may ask the team to apply the CONTINUE rule (\refsec{rule:asrcontinue}). 
		\item With the custom operator, the team can only score 50\% of the points for the respective command.
	\end{itemize}
	\item \textbf{Repeating the given command:} The robot must show it has understood the given command by stating all the required information to accomplish the task. This doesn't mean the robot must repeat exactly the same given command. For instance, if the robot is instructed to \textit{\quotes{deliver a coke to Mary in the kitchen}}, the robot may ask: \textit{\quotes{do you want me to go to the kitchen, find Mary and deliver a coke to her?}} or \textit{\quotes{do you want me to find Mary at the kitchen and give her a coke?}} since both sentences involve all given information.
	\item \textbf{Asking reasonable questions} 
	The robot is allowed to ask a (one) reasonable question. This is to prevent 'phone dialog' style commanding of the robot. 
	\begin{enumerate}
		\item \textbf{Misunderstood information:} When the robot did not understood part of a command or it is unsure of what has been told, it may ask the operator to repeat or clarify without fall into a new attempt. For instance, if the robot is instructed to \textit{\quotes{bring me the apple juice from the kitchen table}}, a valid question for the robot to ask is \textit{\quotes{did you say apple juice or pineapple juice?}} without considering it as a new attempt for giving the command.
		\item \textbf{Missing information:} When a given command lacks of information required for accomplishing the task, the robot should request for that missing part. For instance, if the robot is instructed to \textit{\quotes{offer a drink to the person at the door}}, a proper question for the robot to ask is \textit{\quotes{which drink should I deliver to the person at the door?}} It is also possible that the robot simply confirms the command and fetch a random drink at drinks' location.
		% \item \textbf{Nonsenseness:}
	\end{enumerate}
	\item \textbf{Following people} 
	\begin{enumerate}
		\item \textbf{Instruction:} The robot interacts with the operator, \emph{not} the team. That is, the team is not allowed to briefly instruct the operator.
		\item \textbf{Natural walking:} The operator has to walk \quotes{naturally}, i.e., move forward facing forward. The operator is not allowed to walk back, stand still, signal the robot or follow some re-calibration procedure.
		\item \textbf{Asking for passage:} The robot is allowed to (gently) ask people to step aside.
		\item \textbf{Stopping:} The robot must decide when to stop following a person, either because it was instructed to follow her to a certain location, because it was asked to stop by the operator or because the test time is running out. In any case, the robot should state the reason why it changes its behavior.
	\end{enumerate}
\end{enumerate}

\subsection{Data recording}
  Please record the following data (See \refsec{rule:datarecording}):
  \begin{itemize}
   \item Audio
   \item Commands
   \item Images
   \item Plans
  \end{itemize}


\subsection{Referee and OC instructions}
\textbf{2h before test:}
\begin{itemize}
\item Specify and announce the entrance and exit door
\end{itemize}
\textbf{During the test:}
\begin{itemize}
\item Generate a set of commands beforehand, so that and even distributiion of skills and points can be obtained by all teams. 
\end{itemize}

\newpage
\subsection{Score sheet}
\input{scoresheets/GPSR.tex}

% Local Variables:
% TeX-master: "Rulebook"
% End:
