\chapter{GPSR in detail}
\label{chap:gpsr-appendix}

\section{Command retrieval explained}
The robot has to show it has understood te given command by stating all the required information to accomplish the task. For this purpose, the robot may repeat the understood command and ask for confirmation. It is not required to repeat the command word by word; reprasing the command is allowed. For instance, if the robot is instructed to \quotes{place a coke onto the tray}, the robot may either say: \textit{\quotes{You want me to place a coke on the tray. Is that correct?}} or \textit{\quotes{do you want me to deliver a coke to the tray?}}.

If The robot can't correctly recognize the given command, it is allowed to request the operator to repeat the command up to three times. After three failed attempts, a new command is generated. Th team may opt to use a custom operator or the Continue rule (Section Section 3.8.15).

When a robot has partially understood the command, it is allowed to ask the operator for additional information (e.g. \textit{\quotes{did you say apple juice or pineapple juice?}}).

\subsection{Missing information}
When a given command lacks of information required for accomplishing the task, the robot should request for that missing part. For instance, if the robot is instructed to \textit{\quotes{offer a drink to the person at the door}}, it may ask \textit{\quotes{which drink should I deliver to the person at the door?}} It is also possible that the robot simply confirms the command and takes a random drink from the drinks location, but in those cases, the command will be considered by the jury of an inferior category.

\subsection{Wrong information}
Some Category III commands contains erroneous information. In these cases, the robot should
\begin{itemize}
	\item be able to realize such an error while trying to carry out the task, get back to the operator, and clearly state why it wasn't able to accomplish the task; or
	\item be able to solve the problem by means of an alternative, reasonable solution.
\end{itemize}

For example, lets assume the robot is commanded to \textit{\quotes{move the organge juice from the fridge to the dinner table}}, but in the fridge there are only the apple juice and the milk, while the orange juice lies in the stove. The robot may either explain to the operator that there are no orange juices in the fridge, or search the kitchen for the orange juice, grasp it from the stove and deliver it to the dinner table.

\section{Command categories explained}
All possible actions has been classified previously by the TC according to their difficulty. For each command the team may choose from the following three categories:

\subsection{Category I}
This category comprehends easy-to-solve tasks with a low difficulty degree, involving indoor navigation, grasping known objects, answering questions (from the predefined set of questions), etc.

Some examples are:
\begin{itemize}
	\item \textit{Put the crackers on the kitchen table.}
	\item \textit{Tell the time to Ana at the bedroom.}
	\item \textit{Tell me the name of the person at the door.}
	\item \textit{Bring me the apple juice from the counter.}
\end{itemize}

\subsection{Category II:}
Tasks with a moderate difficulty degree. This category involves following a human, indoor navigation in crowded environments, manipulation and recognition of alike objects, find a calling person (waving or shouting), etc. 

Some examples are:
\begin{itemize}
	\item \textit{Put the banana on the kitchen table.}
	\item \textit{Count the waiving people in the livingroom.}
	\item \textit{Follow Ana at the entrance.}
	\item \textit{Tell me the name of the woman in the kitchen.}
\end{itemize}


\subsection{Category III:}
This category comprehends challenging tasks involving dealing with incomplete information, environmental reasoning, feature detection, natural language processing, outdoors navigation, pouring, opening doors, etc.

The commands generated for this category heavily depends on the sub-League and are detailed as follow.

\subsubsection{Advanced manipulation [DSPL and OP]}
Some examples are:
\begin{itemize}
	\item \textit{Pour some cereals in the bowl.}
	\item \textit{Go to the bathroom} (Bathroom's door is closed).
	\item \textit{Bring me the milk from the microwave} (The milk is inside the microwave)
\end{itemize}

\subsubsection{Incomplete and erroneous information [All sub-Leagues]}
These commands are almost the same as the ones of categories I and II, but either the information given is incorrect or incomplete. This means that executing the command as it has been given is not possible. The robot must come up with an appropriate solution to execute the operators' command.

Some examples are:
\begin{itemize}
	\item \textit{Follow John} (John's location is not specified).
	\item \textit{Bring me a drink} (The exact drink is not specified).
	\item \textit{Bring some snacks to Mary} (Neither Mary's location nor the snack are specified).
	\item \textit{Find Ana at the bedroom and tell her the time} (Ana is lying on the floor or standing under the door frame).
	\item \textit{Bring me a drink from the fridge} (There are no drinks in the fridge, but in the kitchen table).
\end{itemize}

\subsubsection{Other tasks [All sub-Leagues]}
Some examples are:
\begin{itemize}
	\item \textit{Follow me and then go to the kitchen} (Operator takes the robot to the audience area).
	\item \textit{Give me the left most object from the shelf.}
	\item \textit{Count the drinks on the table.}
	\item \textit{Tell me how many girls there are in the livingroom.}
\end{itemize}


